/* Clean, consistent Chatbot styles for Asfalto Fashion */

:root{
  --gold: #ffd166;
  --dark: #081c15;
  --muted-bg: #fcf9f7;
}

.chatbot-btn-wrap { position: fixed; z-index: 2200; }
.chatbot-mini-wrap { right: 28px; bottom: 168px; }
.chatbot-mini {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(180deg,#ffd985 0%, #ffc857 100%);
  border: 2px solid rgba(255,255,255,0.12);
  box-shadow: 0 14px 34px rgba(0,0,0,0.22), 0 4px 10px rgba(255,200,80,0.06) inset;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  cursor: pointer;
  z-index: 2220;
}
.mini-icon { filter: drop-shadow(0 2px 2px rgba(0,0,0,0.12)); }

/* label/pill that appears left of the button on hover/focus */
.chat-label {
  display: block;
  position: absolute;
  right: 64px;
  bottom: 8px;
  transform: translateX(12px);
  opacity: 0;
  background: rgba(0,0,0,0.86);
  color: var(--gold);
  padding: 8px 10px;
  border-radius: 999px;
  font-size: 12px;
  line-height: 1;
  white-space: nowrap;
  pointer-events: none;
  transition: opacity 160ms ease, transform 160ms ease;
}
.chatbot-btn-wrap:hover .chat-label,
.chatbot-btn-wrap:focus-within .chat-label { opacity: 1; transform: translateX(0); }

/* modal */
.chatbot-modal {
  position: fixed;
  right: 20px;
  bottom: 220px;
  width: 340px;
  max-height: 64vh;
  z-index: 2300;
}

/* default hidden state; when .chatbot-root.chatbot-open is present it becomes visible */
.chatbot-root .chatbot-modal {
  opacity: 0;
  transform: translateY(8px);
  pointer-events: none;
  transition: opacity 180ms ease, transform 180ms ease;
}
.chatbot-root.chatbot-open .chatbot-modal {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.chatbot-card {
  display: flex;
  flex-direction: column;
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 30px 60px rgba(0,0,0,0.32);
  overflow: hidden;
  height: 100%;
  border: 1px solid rgba(6,24,15,0.06);
  font-family: inherit;
}

.chatbot-header {
  padding: 12px 14px;
  background: linear-gradient(90deg,var(--dark) 0%, rgba(8,28,21,0.95) 100%);
  color: var(--gold);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.chatbot-close { background: transparent; border: none; color: var(--gold); font-size: 14px; cursor: pointer; }

.chatbot-body { padding: 12px; overflow-y: auto; background: linear-gradient(180deg, #fffaf7 0%, var(--muted-bg) 100%); min-height: 140px; }
.chat-line { margin: 8px 0; display: flex; }
.chat-line.bot { justify-content: flex-start; }
.chat-line.user { justify-content: flex-end; }
.chat-bubble { max-width: 76%; padding: 10px 14px; border-radius: 14px; font-size: 14px; line-height: 1.25; box-shadow: 0 6px 18px rgba(2,8,6,0.06); }
.chat-line.bot .chat-bubble { background: var(--dark); color: var(--gold); border-bottom-left-radius: 6px; }
.chat-line.user .chat-bubble { background: var(--gold); color: var(--dark); border-bottom-right-radius: 6px; }

.chatbot-presets { display:flex; gap:8px; padding: 10px; flex-wrap:wrap; background: transparent; }
.preset-btn { background:var(--dark); color:var(--gold); border:none; padding:6px 8px; border-radius:8px; cursor:pointer; font-size:12px; }

.chatbot-footer { display:flex; gap:8px; padding:10px; border-top:1px solid rgba(6,24,15,0.04); background: #fff; }
.chatbot-footer input { flex:1; padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,0.06); }
.send-btn { background:var(--dark); color:var(--gold); border:none; padding:10px 14px; border-radius:10px; cursor:pointer; }

@media (max-width: 480px) {
  .chatbot-modal { right: 12px; left: 12px; width: auto; bottom: 160px; }
  .chatbot-mini-wrap { right: 24px; bottom: 146px; }
  .chat-label { display: none; }
}
/* Chatbot styles - cleaned and themed to match Asfalto Fashion */

.chatbot-btn-wrap { position: fixed; z-index: 1210; }

.chatbot-mini-wrap { right: 28px; bottom: 168px; }
.chatbot-mini {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(180deg,#ffd985 0%, #ffc857 100%);
  border: 2px solid rgba(255,255,255,0.12);
  box-shadow: 0 14px 34px rgba(0,0,0,0.22), 0 4px 10px rgba(255,200,80,0.06) inset;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  cursor: pointer;
}
.mini-icon { filter: drop-shadow(0 2px 2px rgba(0,0,0,0.12)); }

/* label/pill that appears left of the button on hover/focus */
.chat-label {
  display: block;
  position: absolute;
  right: 64px;
  bottom: 8px;
  transform: translateX(12px);
  opacity: 0;
  background: rgba(0,0,0,0.86);
  color: #ffd166;
  padding: 8px 10px;
  border-radius: 999px;
  font-size: 12px;
  line-height: 1;
  white-space: nowrap;
  pointer-events: none;
  transition: opacity 160ms ease, transform 160ms ease;
}
.chatbot-btn-wrap:hover .chat-label,
.chatbot-btn-wrap:focus-within .chat-label { opacity: 1; transform: translateX(0); }

/* modal */
.chatbot-modal {
  position: fixed;
  right: 20px;
  bottom: 220px;
  width: 340px;
  max-height: 64vh;
  z-index: 1250;
}

.chatbot-card {
  display: flex;
  flex-direction: column;
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 30px 60px rgba(0,0,0,0.32);
  overflow: hidden;
  height: 100%;
  border: 1px solid rgba(6,24,15,0.06);
  font-family: inherit;
}

.chatbot-header {
  padding: 12px 14px;
  background: linear-gradient(90deg,#081c15 0%, rgba(8,28,21,0.95) 100%);
  color: #ffd166;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.chatbot-close { background: transparent; border: none; color: #ffd166; font-size: 14px; cursor: pointer; }

.chatbot-body { padding: 12px; overflow-y: auto; background: linear-gradient(180deg, #fffaf7 0%, #fcf9f7 100%); min-height: 140px; }
.chat-line { margin: 8px 0; display: flex; }
.chat-line.bot { justify-content: flex-start; }
.chat-line.user { justify-content: flex-end; }
.chat-bubble { max-width: 76%; padding: 10px 14px; border-radius: 14px; font-size: 14px; line-height: 1.25; box-shadow: 0 6px 18px rgba(2,8,6,0.06); }
.chat-line.bot .chat-bubble { background: #081c15; color: #ffd166; border-bottom-left-radius: 6px; }
.chat-line.user .chat-bubble { background: #ffd166; color: #081c15; border-bottom-right-radius: 6px; }

.chatbot-presets { display:flex; gap:8px; padding: 10px; flex-wrap:wrap; background: transparent; }
.preset-btn { background:#081c15; color:#ffd166; border:none; padding:6px 8px; border-radius:8px; cursor:pointer; font-size:12px; }

.chatbot-footer { display:flex; gap:8px; padding:10px; border-top:1px solid rgba(6,24,15,0.04); background: #fff; }
.chatbot-footer input { flex:1; padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,0.06); }
.send-btn { background:#081c15; color:#ffd166; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; }

/* controles de scroll (arriba/abajo) en el header */
.chat-scroll-controls { display:flex; gap:6px; margin-left:6px; }
.chat-scroll-btn { background: transparent; border: 1px solid rgba(255,255,255,0.06); color: var(--gold, #ffd166); padding: 6px 8px; border-radius: 6px; cursor: pointer; font-size: 12px; }
.chat-scroll-btn:hover { background: rgba(0,0,0,0.06); }

@media (max-width: 480px) {
  .chatbot-modal { right: 12px; left: 12px; width: auto; bottom: 160px; }
  .chatbot-mini-wrap { right: 24px; bottom: 146px; }
  .chat-label { display: none; }
}
/* wrappers manage fixed placement so labels can be aligned */
.chatbot-btn-wrap { position: fixed; z-index: 1210; }
.chatbot-mini {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: linear-gradient(180deg,#ffd985 0%, #ffc857 100%);
  border: 2px solid rgba(255,255,255,0.12);
  box-shadow: 0 12px 26px rgba(0,0,0,0.18);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  cursor: pointer;
}
.chatbot-mini-wrap .chat-label { right: 72px; bottom: 6px; }
.chatbot-btn-wrap:hover .chat-label,
.chatbot-btn-wrap:focus-within .chat-label { opacity: 1; transform: translateX(0); }

.chatbot-btn-wrap .chatbot-mini { position: static; }
/* main big + button */
.chatbot-toggle {
  position: fixed;
  right: 20px;
  bottom: 92px;
  width: 72px;
  height: 72px;
  border-radius: 50%;
  background: linear-gradient(180deg,#ff6b4a 0%, #d6453b 100%);
  border: 4px solid rgba(255,255,255,0.06);
  box-shadow: 0 20px 40px rgba(0,0,0,0.35), 0 4px 10px rgba(214,69,59,0.15) inset;
  color: #fff;
  font-size: 34px;
  font-weight: 700;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1200;
  transform: translateY(0);
  .chatbot-toggle { right: 16px; bottom: 82px; width:64px; height:64px; font-size:30px; }
  .chatbot-mini-wrap { right: 24px; bottom: 146px; }
}

.chatbot-modal {
  position: fixed;
  right: 20px;
  bottom: 180px;
  width: 340px;
  max-height: 64vh;
  z-index: 1250;
  pointer-events: auto;
}

/* small bubble above the main + */
.chatbot-mini {
  position: fixed;
  right: 28px;
  bottom: 168px;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: linear-gradient(180deg,#ffd985 0%, #ffc857 100%);
  border: 2px solid rgba(255,255,255,0.12);
  box-shadow: 0 12px 26px rgba(0,0,0,0.18);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  cursor: pointer;
  z-index: 1210;
}
.mini-icon { filter: drop-shadow(0 2px 2px rgba(0,0,0,0.12)); }

.chatbot-card {
  display: flex;
  flex-direction: column;
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 30px 60px rgba(0,0,0,0.32);
  overflow: hidden;
  height: 100%;
  border: 1px solid rgba(6,24,15,0.06);
  font-family: inherit;
}

.chatbot-header {
  padding: 12px 14px;
  background: linear-gradient(90deg,#081c15 0%, rgba(8,28,21,0.95) 100%);
  color: #ffd166;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.chatbot-close {
  background: transparent;
  border: none;
  color: #ffd166;
  font-size: 14px;
  cursor: pointer;
}

.chatbot-body {
  padding: 12px;
  overflow-y: auto;
  background: linear-gradient(180deg, #fffaf7 0%, #fcf9f7 100%);
  min-height: 140px;
}

.chat-line { margin: 8px 0; display: flex; }
.chat-line.bot { justify-content: flex-start; }
.chat-line.user { justify-content: flex-end; }
.chat-bubble {
  max-width: 76%;
  padding: 10px 14px;
  border-radius: 14px;
  font-size: 14px;
  line-height: 1.25;
  box-shadow: 0 6px 18px rgba(2,8,6,0.06);
}
.chat-line.bot .chat-bubble { background: #081c15; color: #ffd166; border-bottom-left-radius: 6px; }
.chat-line.user .chat-bubble { background: #ffd166; color: #081c15; border-bottom-right-radius: 6px; }

.chatbot-presets { display:flex; gap:8px; padding: 10px; flex-wrap:wrap; background: transparent; }
.preset-btn { background:#081c15; color:#ffd166; border:none; padding:6px 8px; border-radius:8px; cursor:pointer; font-size:12px; }

.chatbot-footer { display:flex; gap:8px; padding:10px; border-top:1px solid rgba(6,24,15,0.04); background: #fff; }
.chatbot-footer input { flex:1; padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,0.06); }
.send-btn { background:#081c15; color:#ffd166; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; }

@media (max-width: 480px) {
  .chatbot-modal { right: 12px; left: 12px; width: auto; bottom: 140px; }
  .chatbot-toggle { right: 16px; bottom: 82px; width:64px; height:64px; font-size:30px; }
  .chatbot-mini { right: 24px; bottom: 146px; }
}

/* ===== Override para que la barra de scroll quede DENTRO del chat (no en la página) ===== */
/* Forzamos la tarjeta a usar una altura máxima en viewport y hacemos que el cuerpo sea el scrollable */
.chatbot-modal {
  /* limite visual del modal */
  max-height: 64vh;
  overflow: visible; /* evitar que el propio modal genere scrollbar de página */
}
.chatbot-card {
  /* la tarjeta ocupa hasta 64vh y controla su propio layout */
  height: 64vh;
  max-height: 64vh;
  display: flex; /* ya lo era, reforzamos */
  flex-direction: column;
}
.chatbot-body {
  /* el único contenedor que debe scrollear */
  flex: 1 1 auto;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  min-height: 0; /* importante para que flex respete el overflow */
}

/* Estilos ligeros para la scrollbar interna (opcional) */
.chatbot-body::-webkit-scrollbar { width: 10px; }
.chatbot-body::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 8px; }
.chatbot-body::-webkit-scrollbar-track { background: transparent; }

/* En general, el modal no debería alterar el scroll del body de la página */
body .chatbot-modal { overscroll-behavior: contain; }
